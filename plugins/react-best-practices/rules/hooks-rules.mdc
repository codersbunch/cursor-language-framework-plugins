---
description: React hooks rules, component patterns, and performance best practices
alwaysApply: true
---

react-best-practices:

- Only call hooks at the top level - never inside loops, conditions, or nested functions
- Only call hooks from React function components or custom hooks - never from regular JS functions
- Custom hooks must start with "use" prefix (e.g., useUserData, useFetch)
- Prefer small, focused components with a single responsibility
- Extract repeated logic into custom hooks, not utility functions
- Use React.memo() only when profiling shows unnecessary re-renders
- Always provide dependency arrays to useEffect, useCallback, useMemo
- Never mutate state directly - always use the setter function
- Prefer controlled components over uncontrolled for form inputs
- Use React.lazy() and Suspense for code splitting large components
